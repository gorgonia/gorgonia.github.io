<!doctype html><html lang=fr class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.58.3"><meta name=description content="Gorgonia: Deep learning for Go - Write and evaluate mathematical equations involving multidimensional arrays (tensors) easily - this is the reference website with tutorials and howtos"><meta name=author content="The Gorgonia Authors"><link rel="shortcut icon" href=/images/favicon.png type=image/png><title>Résoudre des problèmes de GPU :: Gorgonia</title><link href=/css/nucleus.css?1677767295 rel=stylesheet><link href=/css/fontawesome-all.min.css?1677767295 rel=stylesheet><link href=/css/hybrid.css?1677767295 rel=stylesheet><link href=/css/featherlight.min.css?1677767295 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1677767295 rel=stylesheet><link href=/css/auto-complete.css?1677767295 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1677767295 rel=stylesheet><link href=/css/theme.css?1677767295 rel=stylesheet><link href=/css/hugo-theme.css?1677767295 rel=stylesheet><link href=/css/theme-gorgonia.css?1677767295 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1677767295></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><meta property=og:title content="Résoudre des problèmes de GPU"><meta property=og:description content="Ce document est une liste de conseils en cas de problème. Si vous rencontrez des difficultés en utilisant des GPUs, ce document devrait pouvoir vous aider.
Le package cu fonctionne avec une application appelée cudatest qui devrait être utile pour résoudre des problèmes.
Pour installer cudatest, lancez :
go install gorgonia.org/cu/cmd/cudatest Cela implique que vous ayez déjà installé CUDA, et cuDNN.
Erreur d&rsquo;initalisation avec plusieurs GPUs Si vous utilisez plusieurs GPUs, vous pourriez tomber sur un message qui ressemble à ce qui suit :"><meta property=og:type content=article><meta property=og:url content=https://gorgonia.org/fr/how-to/troubleshoot-gpu-issues/><meta property=og:image content=https://gorgonia.org/images/opengraph.png><meta property=article:published_time content=2020-07-17T06:24:26+10:00><meta property=article:modified_time content=2020-07-17T06:24:26+10:00><meta property=og:site_name content=Gorgonia><meta name=twitter:card content=summary_large_image><meta name=twitter:image content=https://gorgonia.org/images/opengraph.png><meta name=twitter:title content="Résoudre des problèmes de GPU"><meta name=twitter:description content="Ce document est une liste de conseils en cas de problème. Si vous rencontrez des difficultés en utilisant des GPUs, ce document devrait pouvoir vous aider.
Le package cu fonctionne avec une application appelée cudatest qui devrait être utile pour résoudre des problèmes.
Pour installer cudatest, lancez :
go install gorgonia.org/cu/cmd/cudatest Cela implique que vous ayez déjà installé CUDA, et cuDNN.
Erreur d&rsquo;initalisation avec plusieurs GPUs Si vous utilisez plusieurs GPUs, vous pourriez tomber sur un message qui ressemble à ce qui suit :"></head><body data-url=/fr/how-to/troubleshoot-gpu-issues/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://gorgonia.org/><img src=https://gorgonia.org/images/logo/gorgonia.svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Rechercher...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1677767295></script><script type=text/javascript src=/js/auto-complete.js?1677767295></script><script type=text/javascript>var baseurl="https:\/\/gorgonia.org\/\/fr";</script><script type=text/javascript src=/js/search.js?1677767295></script><ul><li><a class=padding><em class="fas fa-language fa-fw"></em><div class=select-style><select id=select-language onchange="location=this.value;">
<option id=en value=https://gorgonia.org/how-to/troubleshoot-gpu-issues/>English</option>
<option id=fr value=https://gorgonia.org/fr/how-to/troubleshoot-gpu-issues/ selected>Français</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><path d="M0 63.75l127.5 127.5L255 63.75z" /></g></g></svg></div></a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/fr/getting-started/ title="Premiers pas" class=dd-item><a href=/fr/getting-started/>Premiers pas
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fr/getting-started/ubiquitous-language/ title="Language dédié et glossaire" class=dd-item><a href=/fr/getting-started/ubiquitous-language/>Language dédié et glossaire
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/getting-started/contributing-doc/ title="Commencer à contribuer à la documentation" class=dd-item><a href=/fr/getting-started/contributing-doc/>Commencer à contribuer à la documentation
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fr/about/ title="Fonctionnement de Gorgonia" class=dd-item><a href=/fr/about/>Fonctionnement de Gorgonia
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/tutorials/ title=Tutoriels class=dd-item><a href=/fr/tutorials/>Tutoriels
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fr/tutorials/hello-world/ title="Hello World" class=dd-item><a href=/fr/tutorials/hello-world/>Hello World
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/tutorials/iris/ title="Régression linéaire multivariée sur le dataset Iris" class=dd-item><a href=/fr/tutorials/iris/>Régression linéaire multivariée sur le dataset Iris
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fr/how-to/ title="Guide pratique" class="dd-item
        parent"><a href=/fr/how-to/>Guide pratique
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fr/how-to/troubleshoot-gpu-issues/ title="Résoudre des problèmes de GPU" class="dd-item active"><a href=/fr/how-to/troubleshoot-gpu-issues/>Résoudre des problèmes de GPU
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/how-to/dot/ title="Dessiner le ExprGraph avec Graphviz (dot)" class=dd-item><a href=/fr/how-to/dot/>Dessiner le ExprGraph avec Graphviz (dot)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/how-to/dataframe/ title="Créer un tensor depuis un Dataframe (gota)" class=dd-item><a href=/fr/how-to/dataframe/>Créer un tensor depuis un Dataframe (gota)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/how-to/save-weights/ title="Sauver les matrices de poids" class=dd-item><a href=/fr/how-to/save-weights/>Sauver les matrices de poids
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/how-to/autodiff/ title="Comment calculer le gradient (dérivation)" class=dd-item><a href=/fr/how-to/autodiff/>Comment calculer le gradient (dérivation)
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/fr/reference/ title=References class=dd-item><a href=/fr/reference/>References
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/fr/reference/exprgraph/ title="Graph / Exprgraph" class=dd-item><a href=/fr/reference/exprgraph/>Graph / Exprgraph
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/fr/reference/vm/gomachine/ title="Go Machine" class=dd-item><a href=/fr/reference/vm/gomachine/>Go Machine
<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><section id=shortcuts><h3>Aller plus loin</h3><ul><li><a class=padding href=https://github.com/gorgonia/gorgonia><i class="fab fa-fw fa-github"></i>Repo GitHub</a></li><li><a class=padding href="https://pkg.go.dev/gorgonia.org/gorgonia?tab=doc"><i class="fas fa-fw fa-bookmark"></i>API Doc</a></li><li><a class=padding href=http://gophers.slack.com/messages/gorgonia><i class="fab fa-fw fa-slack"></i>Contact us</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i>Supprimer l&#39;historique</a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/gorgonia/gorgonia data-icon=octicon-star data-show-count=true aria-label="Star gorgonia/gorgonia on GitHub">Star</a><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a>from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></center><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Modifier la page" href=https://github.com/gorgonia/gorgonia.github.io/edit/develop/content/how-to/troubleshoot-gpu-issues.fr.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Modifier la page</span></a></div><div id=breadcrumbs itemscope itemtype=http://schema.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/fr/>Gorgonia</a> > <a href=/fr/how-to/>Guide pratique</a> > Résoudre des problèmes de GPU</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#erreur-d-initalisation-avec-plusieurs-gpus>Erreur d&rsquo;initalisation avec plusieurs GPUs</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Résoudre des problèmes de GPU</h1><p>Ce document est une liste de conseils en cas de problème. Si vous rencontrez des difficultés en utilisant des GPUs, ce document devrait pouvoir vous aider.</p><p>Le package <code>cu</code> fonctionne avec une application appelée <code>cudatest</code> qui devrait être utile pour résoudre des problèmes.</p><p>Pour installer <code>cudatest</code>, lancez :</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>go install gorgonia.org/cu/cmd/cudatest</code></pre></div><p>Cela implique que vous ayez déjà installé CUDA, et cuDNN.</p><h1 id=erreur-d-initalisation-avec-plusieurs-gpus>Erreur d&rsquo;initalisation avec plusieurs GPUs</h1><p>Si vous utilisez plusieurs GPUs, vous pourriez tomber sur un message qui ressemble à ce qui suit :</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Error in initialization, please refer to <span style=color:#4e9a06>&#34;https://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__INITIALIZE.html&#34;</span></code></pre></div><p>Cela signifie généralement que l&rsquo;une de vos GPUs ne supporte pas CUDA. Vous pouvez tout de même utiliser CUDA si vous savez qu&rsquo;au moins une de vous GPUs supporte CUDA.</p><p>D&rsquo;abord, utilisez <code>nvidia-smi</code> pour trouver les GPUs utilisées. Voici un exemple ci-dessous.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Thu Jul <span style=color:#0000cf;font-weight:700>16</span> <span style=color:#0000cf;font-weight:700>17</span>:41:10 <span style=color:#0000cf;font-weight:700>2020</span>
+-----------------------------------------------------------------------------+
<span style=color:#000;font-weight:700>|</span> NVIDIA-SMI <span style=color:#0000cf;font-weight:700>450</span>.51.05    Driver Version: <span style=color:#0000cf;font-weight:700>450</span>.51.05    CUDA Version: <span style=color:#0000cf;font-weight:700>11</span>.0     <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>-------------------------------+----------------------+----------------------+
<span style=color:#000;font-weight:700>|</span> GPU  Name        Persistence-M<span style=color:#000;font-weight:700>|</span> Bus-Id        Disp.A <span style=color:#000;font-weight:700>|</span> Volatile Uncorr. ECC <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span> Fan  Temp  Perf  Pwr:Usage/Cap<span style=color:#000;font-weight:700>|</span>         Memory-Usage <span style=color:#000;font-weight:700>|</span> GPU-Util  Compute M. <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>                               <span style=color:#000;font-weight:700>|</span>                      <span style=color:#000;font-weight:700>|</span>               MIG M. <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span><span style=color:#ce5c00;font-weight:700>===============================</span>+<span style=color:#ce5c00;font-weight:700>======================</span>+<span style=color:#ce5c00;font-weight:700>======================</span><span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>   <span style=color:#0000cf;font-weight:700>0</span>  Tesla K20Xm         On   <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>00000000</span>:06:00.0 Off <span style=color:#000;font-weight:700>|</span>                    <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span> N/A   33C    P8    16W / 235W <span style=color:#000;font-weight:700>|</span>      0MiB /  5700MiB <span style=color:#000;font-weight:700>|</span>      <span style=color:#0000cf;font-weight:700>0</span>%      Default <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>                               <span style=color:#000;font-weight:700>|</span>                      <span style=color:#000;font-weight:700>|</span>                  N/A <span style=color:#000;font-weight:700>|</span>
+-------------------------------+----------------------+----------------------+
<span style=color:#000;font-weight:700>|</span>   <span style=color:#0000cf;font-weight:700>1</span>  GeForce GT <span style=color:#0000cf;font-weight:700>1030</span>     On   <span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>00000000</span>:07:00.0  On <span style=color:#000;font-weight:700>|</span>                  N/A <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span> <span style=color:#0000cf;font-weight:700>35</span>%   33C    P0    N/A /  30W <span style=color:#000;font-weight:700>|</span>    656MiB /  1994MiB <span style=color:#000;font-weight:700>|</span>     <span style=color:#0000cf;font-weight:700>51</span>%      Default <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>                               <span style=color:#000;font-weight:700>|</span>                      <span style=color:#000;font-weight:700>|</span>                  N/A <span style=color:#000;font-weight:700>|</span>
+-------------------------------+----------------------+----------------------+
+-----------------------------------------------------------------------------+
<span style=color:#000;font-weight:700>|</span> Processes:                                                                  <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>  GPU   GI   CI        PID   Type   Process name                  GPU Memory <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>        ID   ID                                                   Usage      <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span><span style=color:#ce5c00;font-weight:700>=============================================================================</span><span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>    <span style=color:#0000cf;font-weight:700>1</span>   N/A  N/A      XXXX      G   /usr/lib/xorg/Xorg                270MiB <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>    <span style=color:#0000cf;font-weight:700>1</span>   N/A  N/A      XXXX      G   /usr/bin/PROGRAMNAME               77MiB <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>    <span style=color:#0000cf;font-weight:700>1</span>   N/A  N/A      XXXX      G   /usr/bin/PROGRAMNAME               68MiB <span style=color:#000;font-weight:700>|</span>
<span style=color:#000;font-weight:700>|</span>    <span style=color:#0000cf;font-weight:700>1</span>   N/A  N/A      XXXX      G   ...AAAAAAAAA<span style=color:#ce5c00;font-weight:700>=</span> --shared-files      221MiB <span style=color:#000;font-weight:700>|</span>
+-----------------------------------------------------------------------------+</code></pre></div><p>Ici, on voit qu&rsquo;il y a deux GPUs :</p><ul><li>GPU ID 0 est Tesla K20Xm.</li><li>GPU ID 1 est GeForce GT 1030.</li></ul><p>La GeForce GT 1030 ne supporte pas CUDA. Alors que la Tesla K20Xm, si. Pour résoudre ce problème, ajoutez simplement cette variable d&rsquo;environnement :</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#000>CUDA_VISIBLE_DEVICES</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>0</span> cudatest</code></pre></div><p>Cela devrait vous renvoyer quelque chose comme ça :</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ <span style=color:#000>CUDA_VISIBLE_DEVICES</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>0</span> cudatest
CUDA version: <span style=color:#0000cf;font-weight:700>11000</span>
CUDA devices: <span style=color:#0000cf;font-weight:700>1</span>
Device <span style=color:#000>0</span>
<span style=color:#ce5c00;font-weight:700>========</span>
Name      :     <span style=color:#4e9a06>&#34;Tesla K20Xm&#34;</span>
Clock Rate:     <span style=color:#0000cf;font-weight:700>732000</span> kHz
Memory    :     <span style=color:#0000cf;font-weight:700>5977800704</span> bytes
Compute   :     <span style=color:#0000cf;font-weight:700>3</span>.5</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/fr/how-to/ title="Guide pratique"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/fr/how-to/dot/ title="Dessiner le ExprGraph avec Graphviz (dot)" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1677767295></script><script src=/js/perfect-scrollbar.min.js?1677767295></script><script src=/js/perfect-scrollbar.jquery.min.js?1677767295></script><script src=/js/jquery.sticky.js?1677767295></script><script src=/js/featherlight.min.js?1677767295></script><script src=/js/modernizr.custom-3.6.0.js?1677767295></script><script src=/js/learn.js?1677767295></script><script src=/js/hugo-learn.js?1677767295></script><link href=/mermaid/mermaid.css?1677767295 rel=stylesheet><script src=/mermaid/mermaid.js?1677767295></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>